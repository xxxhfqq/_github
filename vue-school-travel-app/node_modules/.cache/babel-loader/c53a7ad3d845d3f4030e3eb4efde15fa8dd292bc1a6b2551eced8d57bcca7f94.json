{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"../utils/request\";\nexport default {\n  __name: 'LoginView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const userName = ref(\"\");\n    const password = ref(\"\");\n    const errorMessage = ref(\"\");\n    const router = useRouter();\n    const handleLogin = async () => {\n      try {\n        const response = await axios.post(\"/login\", {\n          userName: userName.value,\n          password: password.value\n        });\n        if (response.code === 200) {\n          localStorage.setItem(\"token\", response.data.token);\n          router.push(\"/success\");\n        } else {\n          errorMessage.value = response.message;\n        }\n      } catch (error) {\n        errorMessage.value = \"An error occurred. Please try again.\";\n      }\n    };\n    const __returned__ = {\n      userName,\n      password,\n      errorMessage,\n      router,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","axios","userName","password","errorMessage","router","handleLogin","response","post","value","code","localStorage","setItem","data","token","push","message","error"],"sources":["D:/_xhf/java/html_css_javascript/vue/vuerouter/vue-school-travel-app/src/views/LoginView.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Login</h1>\r\n    <form @submit.prevent=\"handleLogin\">\r\n      <div>\r\n        <label>Username:</label>\r\n        <input v-model=\"userName\" type=\"text\" required />\r\n      </div>\r\n      <div>\r\n        <label>Password:</label>\r\n        <input v-model=\"password\" type=\"password\" required />\r\n      </div>\r\n      <button type=\"submit\">Login</button>\r\n    </form>\r\n    <p v-if=\"errorMessage\">{{ errorMessage }}</p>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport axios from \"../utils/request\";\r\n\r\nconst userName = ref(\"\");\r\nconst password = ref(\"\");\r\nconst errorMessage = ref(\"\");\r\nconst router = useRouter();\r\n\r\nconst handleLogin = async () => {\r\n  try {\r\n    const response = await axios.post(\"/login\", {\r\n      userName: userName.value,\r\n      password: password.value,\r\n    });\r\n    if (response.code === 200) {\r\n      localStorage.setItem(\"token\", response.data.token);\r\n      router.push(\"/success\");\r\n    } else {\r\n      errorMessage.value = response.message;\r\n    }\r\n  } catch (error) {\r\n    errorMessage.value = \"An error occurred. Please try again.\";\r\n  }\r\n};\r\n</script>\r\n"],"mappings":";AAmBA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,KAAK,MAAM,kBAAkB;;;;;;;IAEpC,MAAMC,QAAQ,GAAGH,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMI,QAAQ,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,YAAY,GAAGL,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMM,MAAM,GAAGL,SAAS,CAAC,CAAC;IAE1B,MAAMM,WAAW,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,QAAQ,EAAE;UAC1CN,QAAQ,EAAEA,QAAQ,CAACO,KAAK;UACxBN,QAAQ,EAAEA,QAAQ,CAACM;QACrB,CAAC,CAAC;QACF,IAAIF,QAAQ,CAACG,IAAI,KAAK,GAAG,EAAE;UACzBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACM,IAAI,CAACC,KAAK,CAAC;UAClDT,MAAM,CAACU,IAAI,CAAC,UAAU,CAAC;QACzB,CAAC,MAAM;UACLX,YAAY,CAACK,KAAK,GAAGF,QAAQ,CAACS,OAAO;QACvC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdb,YAAY,CAACK,KAAK,GAAG,sCAAsC;MAC7D;IACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}