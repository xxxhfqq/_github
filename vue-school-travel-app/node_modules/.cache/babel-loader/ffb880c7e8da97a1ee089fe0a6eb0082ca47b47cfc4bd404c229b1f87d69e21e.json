{"ast":null,"code":"import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-management\"\n};\nconst _hoisted_2 = {\n  class: \"menu\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"tab-content\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"tab-content\"\n};\nconst _hoisted_6 = {\n  class: \"filters\"\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  class: \"pagination\"\n};\nconst _hoisted_9 = [\"disabled\"];\nconst _hoisted_10 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $setup.activeTab === 'info'\n    }),\n    onClick: _cache[0] || (_cache[0] = $event => $setup.switchTab('info'))\n  }, \" 查询用户信息 \", 2 /* CLASS */), _createElementVNode(\"button\", {\n    class: _normalizeClass({\n      active: $setup.activeTab === 'list'\n    }),\n    onClick: _cache[1] || (_cache[1] = $event => $setup.switchTab('list'))\n  }, \" 分页查询用户列表 \", 2 /* CLASS */)]), $setup.activeTab === 'info' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"用户信息\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: $setup.fetchUserInfo\n  }, \"获取用户信息\"), $setup.userInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"p\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"strong\", null, \"ID:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.userInfo.id), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[8] || (_cache[8] = _createElementVNode(\"strong\", null, \"用户名:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.userInfo.userName), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"strong\", null, \"邮箱:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.userInfo.email), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[10] || (_cache[10] = _createElementVNode(\"strong\", null, \"电话:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.userInfo.phone), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[11] || (_cache[11] = _createElementVNode(\"strong\", null, \"创建时间:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString($setup.userInfo.createTime), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), $setup.activeTab === 'list' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[14] || (_cache[14] = _createElementVNode(\"h2\", null, \"分页用户列表\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.filters.keyword = $event),\n    type: \"text\",\n    placeholder: \"关键字\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.keyword]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $setup.filters.createTimeBegin = $event),\n    type: \"date\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.createTimeBegin]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.filters.createTimeEnd = $event),\n    type: \"date\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.filters.createTimeEnd]]), _createElementVNode(\"button\", {\n    onClick: $setup.fetchUserList\n  }, \"查询\")]), $setup.userList.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"table\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"ID\"), _createElementVNode(\"th\", null, \"用户名\"), _createElementVNode(\"th\", null, \"邮箱\"), _createElementVNode(\"th\", null, \"电话\"), _createElementVNode(\"th\", null, \"创建时间\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.userList, user => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: user.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(user.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.userName), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.phone), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(user.createTime), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"p\", null, \"总记录数: \" + _toDisplayString($setup.pagination.total), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    disabled: $setup.pagination.pageNum === 1,\n    onClick: _cache[5] || (_cache[5] = $event => $setup.changePage($setup.pagination.pageNum - 1))\n  }, \" 上一页 \", 8 /* PROPS */, _hoisted_9), _createElementVNode(\"button\", {\n    disabled: $setup.pagination.pageNum * $setup.pagination.pageSize >= $setup.pagination.total,\n    onClick: _cache[6] || (_cache[6] = $event => $setup.changePage($setup.pagination.pageNum + 1))\n  }, \" 下一页 \", 8 /* PROPS */, _hoisted_10)])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_normalizeClass","active","$setup","activeTab","onClick","_cache","$event","switchTab","_hoisted_3","fetchUserInfo","userInfo","_hoisted_4","_createTextVNode","_toDisplayString","id","userName","email","phone","createTime","_createCommentVNode","_hoisted_5","_hoisted_6","filters","keyword","type","placeholder","createTimeBegin","createTimeEnd","fetchUserList","userList","length","_hoisted_7","_Fragment","_renderList","user","pagination","total","_hoisted_8","disabled","pageNum","changePage","_hoisted_9","pageSize","_hoisted_10"],"sources":["D:\\_xhf\\java\\html_css_javascript\\vue\\vuerouter\\vue-school-travel-app\\src\\views\\AdminView.vue"],"sourcesContent":["<template>\r\n  <div class=\"user-management\">\r\n    <div class=\"menu\">\r\n      <button\r\n        :class=\"{ active: activeTab === 'info' }\"\r\n        @click=\"switchTab('info')\"\r\n      >\r\n        查询用户信息\r\n      </button>\r\n      <button\r\n        :class=\"{ active: activeTab === 'list' }\"\r\n        @click=\"switchTab('list')\"\r\n      >\r\n        分页查询用户列表\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"activeTab === 'info'\" class=\"tab-content\">\r\n      <h2>用户信息</h2>\r\n      <button @click=\"fetchUserInfo\">获取用户信息</button>\r\n      <div v-if=\"userInfo\">\r\n        <p><strong>ID:</strong> {{ userInfo.id }}</p>\r\n        <p><strong>用户名:</strong> {{ userInfo.userName }}</p>\r\n        <p><strong>邮箱:</strong> {{ userInfo.email }}</p>\r\n        <p><strong>电话:</strong> {{ userInfo.phone }}</p>\r\n        <p><strong>创建时间:</strong> {{ userInfo.createTime }}</p>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"activeTab === 'list'\" class=\"tab-content\">\r\n      <h2>分页用户列表</h2>\r\n      <div class=\"filters\">\r\n        <input v-model=\"filters.keyword\" type=\"text\" placeholder=\"关键字\" />\r\n        <input v-model=\"filters.createTimeBegin\" type=\"date\" />\r\n        <input v-model=\"filters.createTimeEnd\" type=\"date\" />\r\n        <button @click=\"fetchUserList\">查询</button>\r\n      </div>\r\n      <div v-if=\"userList.length\">\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>用户名</th>\r\n              <th>邮箱</th>\r\n              <th>电话</th>\r\n              <th>创建时间</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"user in userList\" :key=\"user.id\">\r\n              <td>{{ user.id }}</td>\r\n              <td>{{ user.userName }}</td>\r\n              <td>{{ user.email }}</td>\r\n              <td>{{ user.phone }}</td>\r\n              <td>{{ user.createTime }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <p>总记录数: {{ pagination.total }}</p>\r\n        <div class=\"pagination\">\r\n          <button\r\n            :disabled=\"pagination.pageNum === 1\"\r\n            @click=\"changePage(pagination.pageNum - 1)\"\r\n          >\r\n            上一页\r\n          </button>\r\n          <button\r\n            :disabled=\"\r\n              pagination.pageNum * pagination.pageSize >= pagination.total\r\n            \"\r\n            @click=\"changePage(pagination.pageNum + 1)\"\r\n          >\r\n            下一页\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from \"vue\";\r\nimport axios from \"axios\";\r\n\r\n// 当前激活的选项卡 ('info' 或 'list')\r\nconst activeTab = ref(\"info\");\r\n\r\n// 用户信息\r\nconst userInfo = ref(null);\r\n\r\n// 分页用户列表\r\nconst userList = ref([]);\r\nconst pagination = ref({\r\n  pageNum: 1,\r\n  pageSize: 10,\r\n  total: 0,\r\n});\r\nconst filters = ref({\r\n  keyword: \"\",\r\n  createTimeBegin: \"\",\r\n  createTimeEnd: \"\",\r\n});\r\n\r\n// 切换选项卡\r\nconst switchTab = (tab) => {\r\n  activeTab.value = tab;\r\n};\r\n\r\n// 获取当前用户信息\r\nconst fetchUserInfo = async () => {\r\n  try {\r\n    const response = await axios.get(\r\n      \"http://59.110.93.150:8080/admin/user/info/get\"\r\n    );\r\n    if (response.data.code === 200) {\r\n      userInfo.value = response.data.data;\r\n    } else {\r\n      alert(response.data.message || \"获取用户信息失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"获取用户信息失败:\", error);\r\n    alert(\"请求失败，请稍后重试\");\r\n  }\r\n};\r\n\r\n// 分页查询用户列表\r\nconst fetchUserList = async () => {\r\n  try {\r\n    const { pageNum, pageSize } = pagination.value;\r\n    const { keyword, createTimeBegin, createTimeEnd } = filters.value;\r\n    const response = await axios.get(\r\n      `http://59.110.93.150:8080/admin/user/findByPage/${pageNum}/${pageSize}`,\r\n      {\r\n        params: { keyword, createTimeBegin, createTimeEnd },\r\n      }\r\n    );\r\n    if (response.data.code === 200) {\r\n      userList.value = response.data.data.list;\r\n      pagination.value.total = response.data.data.total;\r\n    } else {\r\n      alert(response.data.message || \"查询用户列表失败\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"查询用户列表失败:\", error);\r\n    alert(\"请求失败，请稍后重试\");\r\n  }\r\n};\r\n\r\n// 改变页码\r\nconst changePage = (newPage) => {\r\n  pagination.value.pageNum = newPage;\r\n  fetchUserList();\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.user-management {\r\n  padding: 20px;\r\n}\r\n.menu {\r\n  margin-bottom: 20px;\r\n}\r\n.menu button {\r\n  padding: 10px 20px;\r\n  margin-right: 10px;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\n.menu button.active {\r\n  background-color: #2e7d32;\r\n}\r\n.menu button:hover {\r\n  background-color: #45a049;\r\n}\r\n.tab-content {\r\n  margin-top: 20px;\r\n}\r\n.filters {\r\n  margin-bottom: 20px;\r\n}\r\n.filters input {\r\n  margin-right: 10px;\r\n  padding: 5px;\r\n}\r\n.pagination {\r\n  margin-top: 10px;\r\n}\r\n.pagination button {\r\n  margin-right: 10px;\r\n  padding: 5px 10px;\r\n}\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  margin-top: 10px;\r\n}\r\ntable th,\r\ntable td {\r\n  border: 1px solid #ddd;\r\n  padding: 8px;\r\n  text-align: left;\r\n}\r\ntable th {\r\n  background-color: #f4f4f4;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}