{"ast":null,"code":"export default {\n  __name: 'AdminView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    // Your script setup remains unchanged\n\n    const __returned__ = {};\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":[],"sources":["D:/_xhf/java/html_css_javascript/vue/vue-school-travel-app/src/views/AdminView.vue"],"sourcesContent":["<template>\n  <!-- 只有在有 token 的情况下显示用户管理和表情查询功能 -->\n  <template v-if=\"hastoken || 1\">\n    <div class=\"user-management\">\n      <div class=\"menu\">\n        <button\n          :class=\"{ active: activeTab === 'info' }\"\n          @click=\"switchTab('info')\"\n        >\n          查询用户信息\n        </button>\n        <button\n          :class=\"{ active: activeTab === 'list' }\"\n          @click=\"switchTab('list')\"\n        >\n          分页查询用户列表\n        </button>\n        <button\n          :class=\"{ active: activeTab === 'emojiCount' }\"\n          @click=\"switchTab('emojiCount')\"\n        >\n          查询表情数量\n        </button>\n        <button\n          :class=\"{ active: activeTab === 'emojiHourly' }\"\n          @click=\"switchTab('emojiHourly')\"\n        >\n          表情变化查询\n        </button>\n        <button @click=\"exportEmojiData\" class=\"export-btn\">\n          导出表情数据\n        </button>\n      </div>\n\n      <!-- 用户信息查询 -->\n      <div v-if=\"activeTab === 'info'\" class=\"tab-content\">\n        <h2>用户信息</h2>\n        <button @click=\"fetchUserInfo\">获取用户信息</button>\n        <div v-if=\"userInfo\" class=\"info\">\n          <p><strong>ID:</strong> {{ userInfo.id }}</p>\n          <p><strong>用户名:</strong> {{ userInfo.userName }}</p>\n          <p><strong>邮箱:</strong> {{ userInfo.email }}</p>\n          <p><strong>电话:</strong> {{ userInfo.phone }}</p>\n          <p><strong>创建时间:</strong> {{ userInfo.createTime }}</p>\n        </div>\n      </div>\n\n      <!-- 分页用户列表 -->\n      <div v-if=\"activeTab === 'list'\" class=\"tab-content\">\n        <h2>分页用户列表</h2>\n        <div class=\"filters\">\n          <div>\n            <label>页数：</label>\n            <input\n              v-model.number=\"pagination.pageNum\"\n              type=\"number\"\n              min=\"1\"\n              placeholder=\"请输入页码\"\n            />\n          </div>\n          <div>\n            <label>每页个数：</label>\n            <input\n              v-model.number=\"pagination.pageSize\"\n              type=\"number\"\n              min=\"1\"\n              placeholder=\"请输入每页个数\"\n            />\n          </div>\n          <div>\n            <label>关键字：</label>\n            <input\n              v-model=\"filters.keyword\"\n              type=\"text\"\n              placeholder=\"请输入关键字\"\n            />\n          </div>\n          <div>\n            <label>起始时间：</label>\n            <input v-model=\"filters.createTimeBegin\" type=\"date\" />\n          </div>\n          <div>\n            <label>结束时间：</label>\n            <input v-model=\"filters.createTimeEnd\" type=\"date\" />\n          </div>\n          <button @click=\"fetchUserList\">查询</button>\n        </div>\n        <div v-if=\"userList && userList.length\">\n          <table>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>用户名</th>\n                <th>邮箱</th>\n                <th>电话</th>\n                <th>创建时间</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"user in userList\" :key=\"user.id\">\n                <td class=\"id\">{{ user.id }}</td>\n                <td class=\"name\">{{ user.userName }}</td>\n                <td class=\"email\">{{ user.email }}</td>\n                <td class=\"phone\">{{ user.phone }}</td>\n                <td class=\"time\">{{ user.createTime }}</td>\n              </tr>\n            </tbody>\n          </table>\n          <p>总记录数: {{ pagination.total }}</p>\n        </div>\n      </div>\n\n      <!-- 查询表情数量 -->\n      <div v-if=\"activeTab === 'emojiCount'\" class=\"tab-content\">\n        <h2>查询表情数量</h2>\n        <div class=\"filters\">\n          <div>\n            <label>起始时间：</label>\n            <input v-model=\"emojiFilters.startTime\" type=\"date\" />\n          </div>\n          <div>\n            <label>结束时间：</label>\n            <input v-model=\"emojiFilters.endTime\" type=\"date\" />\n          </div>\n          <button @click=\"fetchEmojiCount\">查询</button>\n        </div>\n        <div v-if=\"emojiCount\">\n          <table>\n            <thead>\n              <tr>\n                <th>表情</th>\n                <th>出现次数</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(count, emoji) in emojiCount\" :key=\"emoji\">\n                <td>{{ emoji }}</td>\n                <td>{{ count }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      <!-- 表情变化查询 -->\n      <div v-if=\"activeTab === 'emojiHourly'\" class=\"tab-content\">\n        <h2>表情变化查询</h2>\n        <div class=\"filters\">\n          <div>\n            <label>起始时间：</label>\n            <input v-model=\"emojiHourlyFilters.startTime\" type=\"date\" />\n          </div>\n          <button @click=\"fetchEmojiHourly\">查询</button>\n        </div>\n        <div v-if=\"emojiHourlyData\">\n          <table>\n            <thead>\n              <tr>\n                <th>时间</th>\n                <th>表情</th>\n                <th>出现次数</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(hourlyData, index) in emojiHourlyData\" :key=\"index\">\n                <td>{{ hourlyData.timestamp }}</td>\n                <td>{{ hourlyData.emoji_code1 }}</td>\n                <td>{{ hourlyData.emoji_code1_count }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </template>\n  <template v-else>\n    <HomeHeader></HomeHeader>\n    <div class=\"stress\">请先注册或登录再使用相关功能</div>\n  </template>\n</template>\n\n<script setup>\n// Your script setup remains unchanged\n</script>\n\n<style scoped>\n.stress {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 24px;\n  color: red;\n}\n.user-management {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  height: 100vh;\n  padding: 20px;\n  box-sizing: border-box;\n}\n.menu {\n  margin-bottom: 20px;\n}\n.menu button {\n  padding: 10px 20px;\n  margin-right: 10px;\n  background-color: #4caf50;\n  color: white;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n}\n.menu button.active {\n  background-color: #2e7d32;\n}\n.menu button:hover {\n  background-color: #45a049;\n}\n.tab-content {\n  text-align: center;\n  margin-top: 20px;\n}\n\n.tab-content h2 {\n  font-size: 24px;\n  margin-bottom: 20px;\n}\n\n.tab-content button {\n  display: inline-block;\n  margin-top: 10px;\n}\n\n.filters {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 15px;\n  margin-bottom: 20px;\n}\n.filters div {\n  display: flex;\n  align-items: center;\n}\n.filters label {\n  color: #f44336; /* 显眼的红色 */\n  font-weight: bold;\n  margin-right: 10px;\n}\n.filters input {\n  padding: 5px;\n  flex-grow: 1;\n}\n.pagination {\n  margin-top: 10px;\n}\n.pagination button {\n  margin-right: 10px;\n  padding: 5px 10px;\n}\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 10px;\n}\ntable th,\ntable td {\n  border: 1px solid #ddd;\n  padding: 8px;\n  text-align: left;\n}\ntable th {\n  background-color: #f4f4f4;\n}\n.export-btn {\n  background-color: #007bff;\n  color: white;\n  padding: 10px 20px;\n  margin-left: 10px;\n}\n.export-btn:hover {\n  background-color: #0056b3;\n}\n.id {\n  width: 30px;\n  background-color: #ddd;\n}\n.name {\n  width: 150px;\n  background-color: #ddd;\n}\n.email {\n  width: 250px;\n  background-color: #ddd;\n}\n.phone {\n  width: 150px;\n  background-color: #ddd;\n}\n.time {\n  width: 300px;\n  background-color: #ddd;\n}\n</style>\n"],"mappings":";;;;;;;IAsLA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}