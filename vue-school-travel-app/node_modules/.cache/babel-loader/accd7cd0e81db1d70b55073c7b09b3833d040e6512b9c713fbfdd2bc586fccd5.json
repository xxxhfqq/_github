{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", null, \"Login\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _withModifiers($setup.handleLogin, [\"prevent\"])\n  }, [_createElementVNode(\"div\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"label\", null, \"Username:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.userName = $event),\n    type: \"text\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.userName]])]), _createElementVNode(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", null, \"Password:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.password = $event),\n    type: \"password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.password]])]), _cache[4] || (_cache[4] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Login\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), $setup.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_1, _toDisplayString($setup.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","onSubmit","_withModifiers","$setup","handleLogin","_cache","$event","userName","type","required","password","errorMessage","_hoisted_1","_toDisplayString","_createCommentVNode"],"sources":["D:\\_xhf\\java\\html_css_javascript\\vue\\vuerouter\\vue-school-travel-app\\src\\views\\LoginView.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Login</h1>\n    <form @submit.prevent=\"handleLogin\">\n      <div>\n        <label>Username:</label>\n        <input v-model=\"userName\" type=\"text\" required />\n      </div>\n      <div>\n        <label>Password:</label>\n        <input v-model=\"password\" type=\"password\" required />\n      </div>\n      <button type=\"submit\">Login</button>\n    </form>\n    <p v-if=\"errorMessage\">{{ errorMessage }}</p>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport axios from \"../utils/request\";\n\nconst userName = ref(\"\");\nconst password = ref(\"\");\nconst errorMessage = ref(\"\");\nconst router = useRouter();\n\nconst handleLogin = async () => {\n  try {\n    const response = await axios.post(\"/login\", {\n      userName: userName.value,\n      password: password.value,\n    });\n    if (response.code === 200) {\n      localStorage.setItem(\"token\", response.data.token);\n      router.push(\"/success\");\n    } else {\n      errorMessage.value = response.message;\n    }\n  } catch (error) {\n    errorMessage.value = \"An error occurred. Please try again.\";\n  }\n};\n</script>\n"],"mappings":";;EAAAA,GAAA;AAAA;;uBACEC,mBAAA,CAcM,c,0BAbJC,mBAAA,CAAc,YAAV,OAAK,sBACTA,mBAAA,CAUO;IAVAC,QAAM,EAHjBC,cAAA,CAG2BC,MAAA,CAAAC,WAAW;MAChCJ,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAwB,eAAjB,WAAS,sB,gBAChBA,mBAAA,CAAiD;IANzD,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMwBH,MAAA,CAAAI,QAAQ,GAAAD,MAAA;IAAEE,IAAI,EAAC,MAAM;IAACC,QAAQ,EAAR;iDAAtBN,MAAA,CAAAI,QAAQ,E,KAE1BP,mBAAA,CAGM,c,0BAFJA,mBAAA,CAAwB,eAAjB,WAAS,sB,gBAChBA,mBAAA,CAAqD;IAV7D,uBAAAK,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAUwBH,MAAA,CAAAO,QAAQ,GAAAJ,MAAA;IAAEE,IAAI,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAA1BN,MAAA,CAAAO,QAAQ,E,+BAE1BV,mBAAA,CAAoC;IAA5BQ,IAAI,EAAC;EAAQ,GAAC,OAAK,qB,4BAEpBL,MAAA,CAAAQ,YAAY,I,cAArBZ,mBAAA,CAA6C,KAdjDa,UAAA,EAAAC,gBAAA,CAc8BV,MAAA,CAAAQ,YAAY,oBAd1CG,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}